import{c as ue,j as t,L as xe,H as je}from"./app-CCdLyeNd.js";import{B as ge}from"./badge-FP0Eo4Bb.js";import{B as pe}from"./button-C3mWsqwf.js";import{C as E,a as G,c as le,b as ae}from"./card-Cn4I26kp.js";import{S as Ne,a as ve,d as be,b as ye,c as ie}from"./select-D9_zhw-l.js";import{G as we}from"./GoogleReviews-CvVLLrjQ.js";import{P as _e}from"./public-layout-B67DCpj5.js";import{S as he}from"./star-Cj4fnUeE.js";import{A as Se}from"./arrow-left-1xUM3CtX.js";/* empty css            */import"./index-BGQA3rTR.js";import"./index-CP66uTd0.js";import"./Combination-NQMwYvno.js";import"./index-BTLUeuTZ.js";import"./index-C3YVOeTh.js";import"./chevron-down-D63RCh7y.js";import"./createLucideIcon-DP6t-9k4.js";import"./check-BCfg21U8.js";import"./message-square-BdNL5HVB.js";import"./dropdown-menu-CWP62HWu.js";import"./index-C985WPGu.js";import"./sheet-f6SuZUw2.js";import"./x-0VmnyWeT.js";import"./user-CiVj3i22.js";import"./phone-ByCiAxf1.js";import"./mail-CVj9cHaD.js";function it(l){const e=ue.c(99),{tour:a,reviews:s}=l,fe=Te;let I;e[0]!==s.data?(I=s.data.length>0?(s.data.reduce(Le,0)/s.data.length).toFixed(1):"0.0",e[0]=s.data,e[1]=I):I=e[1];const r=I;let M;e[2]===Symbol.for("react.memo_cache_sentinel")?(M=[5,4,3,2,1],e[2]=M):M=e[2];let P;e[3]!==s.data?(P=M.map(i=>({rating:i,count:s.data.filter(me=>me.rating===i).length,percentage:s.data.length>0?s.data.filter(me=>me.rating===i).length/s.data.length*100:0})),e[3]=s.data,e[4]=P):P=e[4];const re=P,ne=`Reviews for ${a.title} - Ubuntu Sunshine Tours`;let n;e[5]!==ne?(n=t.jsx(je,{title:ne}),e[5]=ne,e[6]=n):n=e[6];const ce=`/tours/${a.slug}`;let Y;e[7]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Se,{className:"mr-2 h-4 w-4"}),e[7]=Y):Y=e[7];let c;e[8]!==ce||e[9]!==a.title?(c=t.jsx("div",{className:"mb-6",children:t.jsxs(xe,{href:ce,className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[Y,"Back to ",a.title]})}),e[8]=ce,e[9]=a.title,e[10]=c):c=e[10];const oe=a.featured_image?`/storage/${a.featured_image}`:"/images/safari.jpg";let o;e[11]!==oe||e[12]!==a.title?(o=t.jsx("div",{className:"aspect-video w-32 overflow-hidden rounded-lg",children:t.jsx("img",{src:oe,alt:a.title,className:"h-full w-full object-cover"})}),e[11]=oe,e[12]=a.title,e[13]=o):o=e[13];let d;e[14]!==a.title?(d=t.jsx("h1",{className:"text-2xl font-bold",children:a.title}),e[14]=a.title,e[15]=d):d=e[15];let m;e[16]!==a.short_description?(m=t.jsx("p",{className:"text-muted-foreground",children:a.short_description}),e[16]=a.short_description,e[17]=m):m=e[17];let x,h;e[18]!==r?(x=fe(Math.round(parseFloat(r))),h=t.jsx("span",{className:"text-lg font-semibold",children:r}),e[18]=r,e[19]=x,e[20]=h):(x=e[19],h=e[20]);let f;e[21]!==s.data.length?(f=t.jsxs("span",{className:"text-muted-foreground",children:["(",s.data.length," reviews)"]}),e[21]=s.data.length,e[22]=f):f=e[22];let u;e[23]!==x||e[24]!==h||e[25]!==f?(u=t.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[x,h,f]}),e[23]=x,e[24]=h,e[25]=f,e[26]=u):u=e[26];let j;e[27]!==d||e[28]!==m||e[29]!==u?(j=t.jsxs("div",{children:[d,m,u]}),e[27]=d,e[28]=m,e[29]=u,e[30]=j):j=e[30];let g;e[31]!==o||e[32]!==j?(g=t.jsx(E,{children:t.jsx(G,{className:"p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[o,j]})})}),e[31]=o,e[32]=j,e[33]=g):g=e[33];let O;e[34]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(ae,{children:t.jsx(le,{children:"Rating Summary"})}),e[34]=O):O=e[34];let p;e[35]!==re?(p=t.jsxs(E,{children:[O,t.jsx(G,{children:t.jsx("div",{className:"space-y-3",children:re.map(Be)})})]}),e[35]=re,e[36]=p):p=e[36];let N;e[37]!==s.data.length?(N=t.jsxs(le,{children:["Customer Reviews (",s.data.length,")"]}),e[37]=s.data.length,e[38]=N):N=e[38];let Q;e[39]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Ne,{className:"w-40",children:t.jsx(ve,{})}),e[39]=Q):Q=e[39];let U;e[40]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs(be,{defaultValue:"newest",children:[Q,t.jsxs(ye,{children:[t.jsx(ie,{value:"newest",children:"Newest First"}),t.jsx(ie,{value:"oldest",children:"Oldest First"}),t.jsx(ie,{value:"highest",children:"Highest Rating"}),t.jsx(ie,{value:"lowest",children:"Lowest Rating"})]})]}),e[40]=U):U=e[40];let v;e[41]!==N?(v=t.jsx(ae,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[N,U]})}),e[41]=N,e[42]=v):v=e[42];let b;e[43]!==s.data?(b=s.data.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(he,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No reviews yet"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Be the first to share your experience!"})]}):t.jsx("div",{className:"space-y-6",children:s.data.map(i=>t.jsxs("div",{className:"border-b last:border-b-0 pb-6 last:pb-0",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:i.reviewer_name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(i.created_at).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[fe(i.rating),i.is_verified&&t.jsx(ge,{variant:"secondary",className:"text-xs",children:"Verified"})]})]}),i.title&&t.jsx("h4",{className:"font-medium mb-2",children:i.title}),t.jsx("p",{className:"text-gray-700 mb-3",children:i.comment}),i.photos&&i.photos.length>0&&t.jsx("div",{className:"flex gap-2 mb-3",children:i.photos.map(Ce)}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("span",{children:["Booking: ",i.booking?.booking_reference]}),t.jsxs("span",{children:["Tour Date: ",new Date(i.booking?.tour_date).toLocaleDateString()]})]})]},i.id))}),e[43]=s.data,e[44]=b):b=e[44];let y;e[45]!==s.links?(y=s.links&&s.links.length>3&&t.jsx("div",{className:"flex justify-center mt-6",children:t.jsx("div",{className:"flex gap-2",children:s.links.map($e)})}),e[45]=s.links,e[46]=y):y=e[46];let w;e[47]!==b||e[48]!==y?(w=t.jsxs(G,{children:[b,y]}),e[47]=b,e[48]=y,e[49]=w):w=e[49];let _;e[50]!==v||e[51]!==w?(_=t.jsxs(E,{children:[v,w]}),e[50]=v,e[51]=w,e[52]=_):_=e[52];let S;e[53]!==g||e[54]!==p||e[55]!==_?(S=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g,p,_]}),e[53]=g,e[54]=p,e[55]=_,e[56]=S):S=e[56];let q;e[57]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(we,{showLeaveReviewButton:!0,maxReviews:2}),e[57]=q):q=e[57];let z;e[58]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(ae,{children:t.jsx(le,{children:"Share Your Experience"})}),e[58]=z):z=e[58];let J;e[59]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Have you been on this tour? Your feedback helps other travelers make informed decisions."}),e[59]=J):J=e[59];const de=`/tours/${a.slug}`;let R;e[60]!==de?(R=t.jsx(pe,{className:"w-full",asChild:!0,children:t.jsx(xe,{href:de,children:"Book This Tour"})}),e[60]=de,e[61]=R):R=e[61];let K;e[62]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"After your tour, you'll receive an invitation to leave a review"}),e[62]=K):K=e[62];let k;e[63]!==R?(k=t.jsxs(E,{children:[z,t.jsxs(G,{children:[J,t.jsxs("div",{className:"space-y-2",children:[R,K]})]})]}),e[63]=R,e[64]=k):k=e[64];let W;e[65]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(ae,{children:t.jsx(le,{children:"Quick Stats"})}),e[65]=W):W=e[65];let X;e[66]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Reviews"}),e[66]=X):X=e[66];let $;e[67]!==s.data.length?($=t.jsxs("div",{className:"flex justify-between",children:[X,t.jsx("span",{className:"font-medium",children:s.data.length})]}),e[67]=s.data.length,e[68]=$):$=e[68];let Z;e[69]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Rating"}),e[69]=Z):Z=e[69];let C;e[70]!==r?(C=t.jsxs("div",{className:"flex justify-between",children:[Z,t.jsxs("span",{className:"font-medium",children:[r," / 5"]})]}),e[70]=r,e[71]=C):C=e[71];let ee;e[72]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("span",{className:"text-sm text-muted-foreground",children:"5 Star Reviews"}),e[72]=ee):ee=e[72];let B;e[73]!==s.data?(B=s.data.filter(ke),e[73]=s.data,e[74]=B):B=e[74];let L;e[75]!==B.length?(L=t.jsxs("div",{className:"flex justify-between",children:[ee,t.jsx("span",{className:"font-medium",children:B.length})]}),e[75]=B.length,e[76]=L):L=e[76];let te;e[77]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("span",{className:"text-sm text-muted-foreground",children:"Verified Reviews"}),e[77]=te):te=e[77];let T;e[78]!==s.data?(T=s.data.filter(Re),e[78]=s.data,e[79]=T):T=e[79];let D;e[80]!==T.length?(D=t.jsxs("div",{className:"flex justify-between",children:[te,t.jsx("span",{className:"font-medium",children:T.length})]}),e[80]=T.length,e[81]=D):D=e[81];let H;e[82]!==$||e[83]!==C||e[84]!==L||e[85]!==D?(H=t.jsxs(E,{children:[W,t.jsx(G,{children:t.jsxs("div",{className:"space-y-3",children:[$,C,L,D]})})]}),e[82]=$,e[83]=C,e[84]=L,e[85]=D,e[86]=H):H=e[86];let A;e[87]!==k||e[88]!==H?(A=t.jsxs("div",{className:"space-y-6",children:[q,k,H]}),e[87]=k,e[88]=H,e[89]=A):A=e[89];let F;e[90]!==S||e[91]!==A?(F=t.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[S,A]}),e[90]=S,e[91]=A,e[92]=F):F=e[92];let V;e[93]!==F||e[94]!==c?(V=t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c,F]}),e[93]=F,e[94]=c,e[95]=V):V=e[95];let se;return e[96]!==n||e[97]!==V?(se=t.jsxs(_e,{children:[n,V]}),e[96]=n,e[97]=V,e[98]=se):se=e[98],se}function Re(l){return l.is_verified}function ke(l){return l.rating===5}function $e(l,e){return t.jsx(xe,{href:l.url||"#",className:`px-3 py-2 rounded ${l.active?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${l.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:l.label}},e)}function Ce(l,e){return t.jsx("img",{src:`/storage/${l}`,alt:`Review photo ${e+1}`,className:"h-20 w-20 object-cover rounded cursor-pointer hover:opacity-80",onClick:()=>window.open(`/storage/${l}`,"_blank")},e)}function Be(l){const{rating:e,count:a,percentage:s}=l;return t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-1 w-16",children:[t.jsx("span",{className:"text-sm font-medium",children:e}),t.jsx(he,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${s}%`}})})}),t.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:a})]},e)}function Le(l,e){return l+e.rating}function Te(l){return t.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>t.jsx(he,{className:`h-4 w-4 ${e<=l?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},e))})}export{it as default};
