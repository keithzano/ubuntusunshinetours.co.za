import{c as te,j as t,H as se,L as Z}from"./app-DXQ-P42R.js";import{B as le}from"./badge-C6yB622k.js";import{B as ee}from"./button-CKIm8_6I.js";import{c as W,b as F,C as D,a as U}from"./card-C843kwJt.js";import{A as re}from"./admin-layout-Cbyr9A2c.js";import{C as ne}from"./calendar-Cv_gA4e2.js";import{U as ae}from"./users-1NBMuARS.js";import{D as ie}from"./dollar-sign-Bo5xfafv.js";import{E as oe}from"./eye-CMVy-BR6.js";import{c as Y}from"./createLucideIcon-DY-J9DSk.js";/* empty css            */import"./file-text-CN4HHeNW.js";import"./map-pin-CvZNpxLC.js";import"./message-square-DrgFf0lF.js";import"./log-out-VKZypcqk.js";const ce=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],de=Y("ArrowDown",ce);const me=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xe=Y("ArrowUp",me);const he=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ue=Y("TrendingUp",he);function G(r){const e=te.c(16),{title:s,value:c,subValue:l,icon:d,trend:m}=r;let n;e[0]!==s?(n=t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s}),e[0]=s,e[1]=n):n=e[1];let h;e[2]!==c?(h=t.jsx("p",{className:"text-3xl font-bold",children:c}),e[2]=c,e[3]=h):h=e[3];let a;e[4]!==l||e[5]!==m?(a=l&&t.jsxs("p",{className:"mt-1 flex items-center text-sm text-muted-foreground",children:[m==="up"&&t.jsx(xe,{className:"mr-1 h-4 w-4 text-green-600 dark:text-green-400"}),m==="down"&&t.jsx(de,{className:"mr-1 h-4 w-4 text-red-600 dark:text-red-400"}),l]}),e[4]=l,e[5]=m,e[6]=a):a=e[6];let i;e[7]!==n||e[8]!==h||e[9]!==a?(i=t.jsxs("div",{children:[n,h,a]}),e[7]=n,e[8]=h,e[9]=a,e[10]=i):i=e[10];let o;e[11]!==d?(o=t.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:t.jsx(d,{className:"h-6 w-6 text-primary"})}),e[11]=d,e[12]=o):o=e[12];let u;return e[13]!==i||e[14]!==o?(u=t.jsx(D,{children:t.jsx(U,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[i,o]})})}),e[13]=i,e[14]=o,e[15]=u):u=e[15],u}function Ae(r){const e=te.c(68),{stats:s,recentBookings:c,revenueChart:l,topTours:d,bookingsByStatus:m}=r;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",confirmed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},e[0]=n):n=e[0];const h=n;let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(se,{title:"Dashboard - Admin"}),e[1]=a):a=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),t.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening."})]}),e[2]=i):i=e[2];let o;e[3]!==s.totalRevenue?(o=s.totalRevenue.toLocaleString(),e[3]=s.totalRevenue,e[4]=o):o=e[4];const u=`R ${o}`;let E;e[5]!==s.monthlyRevenue?(E=s.monthlyRevenue.toLocaleString(),e[5]=s.monthlyRevenue,e[6]=E):E=e[6];const J=`R ${E} this month`;let p;e[7]!==u||e[8]!==J?(p=t.jsx(G,{title:"Total Revenue",value:u,subValue:J,icon:ie,trend:"up"}),e[7]=u,e[8]=J,e[9]=p):p=e[9];const K=`${s.monthlyBookings} this month`;let g;e[10]!==s.totalBookings||e[11]!==K?(g=t.jsx(G,{title:"Total Bookings",value:s.totalBookings,subValue:K,icon:ne,trend:"up"}),e[10]=s.totalBookings,e[11]=K,e[12]=g):g=e[12];const Q=`${s.newCustomers} new this month`;let j;e[13]!==s.totalCustomers||e[14]!==Q?(j=t.jsx(G,{title:"Total Customers",value:s.totalCustomers,subValue:Q,icon:ae,trend:"up"}),e[13]=s.totalCustomers,e[14]=Q,e[15]=j):j=e[15];let b;e[16]!==s.pageViews?(b=s.pageViews.toLocaleString(),e[16]=s.pageViews,e[17]=b):b=e[17];const X=`${s.activeTours} active tours`;let N;e[18]!==b||e[19]!==X?(N=t.jsx(G,{title:"Page Views (30d)",value:b,subValue:X,icon:oe}),e[18]=b,e[19]=X,e[20]=N):N=e[20];let y;e[21]!==g||e[22]!==j||e[23]!==N||e[24]!==p?(y=t.jsxs("div",{className:"mb-8 grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[p,g,j,N]}),e[21]=g,e[22]=j,e[23]=N,e[24]=p,e[25]=y):y=e[25];let H;e[26]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(W,{children:"Recent Bookings"}),e[26]=H):H=e[26];let M;e[27]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs(F,{className:"flex flex-row items-center justify-between",children:[H,t.jsx(Z,{href:"/admin/bookings",children:t.jsx(ee,{variant:"outline",size:"sm",children:"View All"})})]}),e[27]=M):M=e[27];let v;if(e[28]!==c){let x;e[30]===Symbol.for("react.memo_cache_sentinel")?(x=f=>t.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-4 last:border-0 last:pb-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:f.customer_name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:f.tour?.title}),t.jsx("p",{className:"text-xs text-muted-foreground",children:f.booking_reference})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold",children:["R ",f.total.toLocaleString()]}),t.jsx(le,{className:h[f.status]||"",children:f.status})]})]},f.id),e[30]=x):x=e[30],v=c.slice(0,5).map(x),e[28]=c,e[29]=v}else v=e[29];let w;e[31]!==c.length?(w=c.length===0&&t.jsx("p",{className:"text-center text-muted-foreground",children:"No recent bookings"}),e[31]=c.length,e[32]=w):w=e[32];let k;e[33]!==v||e[34]!==w?(k=t.jsxs(D,{children:[M,t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[v,w]})})]}),e[33]=v,e[34]=w,e[35]=k):k=e[35];let z;e[36]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(W,{children:"Top Performing Tours"}),e[36]=z):z=e[36];let q;e[37]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs(F,{className:"flex flex-row items-center justify-between",children:[z,t.jsx(Z,{href:"/admin/tours",children:t.jsx(ee,{variant:"outline",size:"sm",children:"View All"})})]}),e[37]=q):q=e[37];let _;e[38]!==d?(_=d.map(ge),e[38]=d,e[39]=_):_=e[39];let S;e[40]!==d.length?(S=d.length===0&&t.jsx("p",{className:"text-center text-muted-foreground",children:"No tour data yet"}),e[40]=d.length,e[41]=S):S=e[41];let C;e[42]!==_||e[43]!==S?(C=t.jsxs(D,{children:[q,t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[_,S]})})]}),e[42]=_,e[43]=S,e[44]=C):C=e[44];let I;e[45]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(F,{children:t.jsx(W,{children:"Bookings by Status"})}),e[45]=I):I=e[45];let R,B;e[46]!==m?(R=Object.entries(m).map(pe),B=Object.keys(m).length===0&&t.jsx("p",{className:"text-center text-muted-foreground",children:"No booking data"}),e[46]=m,e[47]=R,e[48]=B):(R=e[47],B=e[48]);let V;e[49]!==R||e[50]!==B?(V=t.jsxs(D,{children:[I,t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[R,B]})})]}),e[49]=R,e[50]=B,e[51]=V):V=e[51];let O;e[52]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(F,{children:t.jsx(W,{children:"Revenue Trend (12 months)"})}),e[52]=O):O=e[52];let T;e[53]!==l?(T=l.slice(-6).map(x=>t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"w-20 text-sm text-muted-foreground",children:x.month}),t.jsx("div",{className:"flex-1",children:t.jsx("div",{className:"h-6 rounded bg-primary/80 dark:bg-primary/60",style:{width:`${Math.min(100,x.revenue/(Math.max(...l.map(fe))||1)*100)}%`}})}),t.jsxs("span",{className:"w-24 text-right text-sm font-medium",children:["R ",x.revenue.toLocaleString()]})]},x.month)),e[53]=l,e[54]=T):T=e[54];let $;e[55]!==l.length?($=l.length===0&&t.jsx("p",{className:"text-center text-muted-foreground",children:"No revenue data yet"}),e[55]=l.length,e[56]=$):$=e[56];let A;e[57]!==T||e[58]!==$?(A=t.jsxs(D,{children:[O,t.jsx(U,{children:t.jsxs("div",{className:"space-y-2",children:[T,$]})})]}),e[57]=T,e[58]=$,e[59]=A):A=e[59];let L;e[60]!==k||e[61]!==C||e[62]!==V||e[63]!==A?(L=t.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[k,C,V,A]}),e[60]=k,e[61]=C,e[62]=V,e[63]=A,e[64]=L):L=e[64];let P;return e[65]!==y||e[66]!==L?(P=t.jsxs(re,{children:[a,i,y,L]}),e[65]=y,e[66]=L,e[67]=P):P=e[67],P}function fe(r){return r.revenue}function pe(r){const[e,s]=r;return t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`h-3 w-3 rounded-full ${e==="confirmed"?"bg-green-600 dark:bg-green-400":e==="pending"?"bg-yellow-600 dark:bg-yellow-400":e==="cancelled"?"bg-red-600 dark:bg-red-400":"bg-blue-600 dark:bg-blue-400"}`}),t.jsx("span",{className:"capitalize",children:e})]}),t.jsx("span",{className:"font-bold",children:s})]},e)}function ge(r,e){return t.jsxs("div",{className:"flex items-center gap-4 border-b border-border pb-4 last:border-0 last:pb-0",children:[t.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/80 dark:bg-primary/60 text-sm font-bold text-primary-foreground",children:e+1}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium",children:r.title}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.bookings_count," bookings"]})]}),t.jsx(ue,{className:"h-5 w-5 text-green-600 dark:text-green-400"})]},r.id)}export{Ae as default};
