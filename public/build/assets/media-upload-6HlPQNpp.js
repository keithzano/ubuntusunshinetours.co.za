import{c as q,r as z,j as s}from"./app-CCdLyeNd.js";import{B as X}from"./button-C3mWsqwf.js";import{C as _,a as F}from"./card-Cn4I26kp.js";import{c as O}from"./createLucideIcon-DP6t-9k4.js";import{X as G}from"./x-0VmnyWeT.js";import{U as H}from"./upload-Da7lYaYO.js";const J=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K=O("Image",J);const Q=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],A=O("Video",Q);function re(P){const e=q.c(37),{value:g,onChange:l,maxFiles:T,accept:V}=P;let x;e[0]!==g?(x=g===void 0?[]:g,e[0]=g,e[1]=x):x=e[1];const a=x,r=T===void 0?10:T,D=V===void 0?"image/*,video/*":V,[$,k]=z.useState(!1);let v;e[2]!==r||e[3]!==l||e[4]!==a?(v=t=>{const h=[];Array.from(t).forEach(i=>{if(a.length+h.length>=r)return;const S=i.type.startsWith("image/"),B=i.type.startsWith("video/");if(!S&&!B)return;const W=S?URL.createObjectURL(i):"";h.push({file:i,id:Math.random().toString(36).substr(2,9),preview:W,type:S?"image":"video"})}),l([...a,...h])},e[2]=r,e[3]=l,e[4]=a,e[5]=v):v=e[5];const o=v;let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=t=>{t.preventDefault(),t.stopPropagation(),t.type==="dragenter"||t.type==="dragover"?k(!0):t.type==="dragleave"&&k(!1)},e[6]=u):u=e[6];const C=u;let y;e[7]!==o?(y=t=>{t.preventDefault(),t.stopPropagation(),k(!1),t.dataTransfer.files&&t.dataTransfer.files[0]&&o(t.dataTransfer.files)},e[7]=o,e[8]=y):y=e[8];const L=y;let j;e[9]!==o?(j=t=>{t.preventDefault(),t.target.files&&t.target.files[0]&&o(t.target.files)},e[9]=o,e[10]=j):j=e[10];const U=j;let N;e[11]!==l||e[12]!==a?(N=t=>{const h=a.find(i=>i.id===t);h?.preview&&URL.revokeObjectURL(h.preview),l(a.filter(i=>i.id!==t))},e[11]=l,e[12]=a,e[13]=N):N=e[13];const R=N,E=`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors ${$?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,I=a.length>=r;let c;e[14]!==D||e[15]!==U||e[16]!==I?(c=s.jsx("input",{type:"file",multiple:!0,accept:D,onChange:U,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:I}),e[14]=D,e[15]=U,e[16]=I,e[17]=c):c=e[17];let b;e[18]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(H,{className:"mx-auto h-12 w-12 text-gray-400"}),e[18]=b):b=e[18];const M=a.length>=r?"Maximum files reached":"Drop files here or click to upload";let n;e[19]!==M?(n=s.jsx("p",{className:"text-lg font-medium",children:M}),e[19]=M,e[20]=n):n=e[20];let d;e[21]!==r?(d=s.jsxs("p",{className:"text-sm text-gray-500",children:["Upload up to ",r," files (images and videos)"]}),e[21]=r,e[22]=d):d=e[22];let m;e[23]!==n||e[24]!==d?(m=s.jsxs("div",{className:"space-y-2",children:[b,s.jsxs("div",{children:[n,d]})]}),e[23]=n,e[24]=d,e[25]=m):m=e[25];let f;e[26]!==L||e[27]!==E||e[28]!==c||e[29]!==m?(f=s.jsxs("div",{className:E,onDragEnter:C,onDragLeave:C,onDragOver:C,onDrop:L,children:[c,m]}),e[26]=L,e[27]=E,e[28]=c,e[29]=m,e[30]=f):f=e[30];let p;e[31]!==R||e[32]!==a?(p=a.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(t=>s.jsx(_,{className:"relative overflow-hidden",children:s.jsx(F,{className:"p-0",children:s.jsxs("div",{className:"aspect-square relative",children:[t.type==="image"?s.jsx("img",{src:t.preview,alt:"Preview",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:s.jsx(A,{className:"h-12 w-12 text-gray-400"})}),s.jsx(X,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>R(t.id),children:s.jsx(G,{className:"h-4 w-4"})}),s.jsx("div",{className:"absolute bottom-2 left-2",children:s.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[t.type==="image"?s.jsx(K,{className:"h-3 w-3"}):s.jsx(A,{className:"h-3 w-3"}),t.file.name]})})]})})},t.id))}),e[31]=R,e[32]=a,e[33]=p):p=e[33];let w;return e[34]!==f||e[35]!==p?(w=s.jsxs("div",{className:"space-y-4",children:[f,p]}),e[34]=f,e[35]=p,e[36]=w):w=e[36],w}export{re as M};
