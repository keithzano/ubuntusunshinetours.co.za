import{c as Le,j as t,a as we,H as De,L as Pe}from"./app-DUahgDyP.js";import{B as Se}from"./badge-Dl8Pe_tC.js";import{B as ke}from"./button-Qqwb2A9t.js";import{C as E,b as I,c as F,a as G}from"./card-CQ-MANnW.js";import{S as ve}from"./separator-Ddwyytte.js";import{A as Ae}from"./admin-layout-BvCCx151.js";import{P as Re}from"./phone-CuTtynth.js";import{C as Me}from"./clock-C3XKlCDB.js";import{A as He}from"./arrow-left-iaqp_63A.js";import{U as Te}from"./user-BQznq99N.js";import{M as Ue}from"./mail-BM-prRtM.js";import{M as $e}from"./map-pin-CjzSY848.js";import{C as qe}from"./calendar-DphA97fo.js";/* empty css            */import"./index-D5FlKHOI.js";import"./createLucideIcon-CG0ikhLP.js";import"./file-text-D4GNBDA6.js";import"./users-CkdR5TKL.js";import"./message-square-6Q6Jgz8t.js";import"./log-out-BhzuXW0W.js";function ot(l){const e=Le.c(123),{booking:s}=l,Ce=Fe,Be=Ie;let J;e[0]!==s.id?(J=a=>{we.patch(`/admin/bookings/${s.id}/status`,{status:a})},e[0]=s.id,e[1]=J):J=e[1];const pe=J;let K;e[2]!==s.id?(K=a=>{we.patch(`/admin/bookings/${s.id}/payment-status`,{payment_status:a})},e[2]=s.id,e[3]=K):K=e[3];const ge=K,_e=`Booking ${s.booking_reference} - Admin`;let i;e[4]!==_e?(i=t.jsx(De,{title:_e}),e[4]=_e,e[5]=i):i=e[5];let O;e[6]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("div",{className:"mb-6",children:t.jsxs(Pe,{href:"/admin/bookings",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[t.jsx(He,{className:"mr-2 h-4 w-4"}),"Back to Bookings"]})}),e[6]=O):O=e[6];let Q;e[7]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(F,{children:"Booking Details"}),e[7]=Q):Q=e[7];const Ne=Ce(s.status);let n;e[8]!==s.status||e[9]!==Ne?(n=t.jsx(Se,{className:Ne,children:s.status}),e[8]=s.status,e[9]=Ne,e[10]=n):n=e[10];const ye=Be(s.payment_status);let r;e[11]!==s.payment_status||e[12]!==ye?(r=t.jsx(Se,{className:ye,children:s.payment_status}),e[11]=s.payment_status,e[12]=ye,e[13]=r):r=e[13];let c;e[14]!==r||e[15]!==n?(c=t.jsx(I,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[Q,t.jsxs("div",{className:"flex gap-2",children:[n,r]})]})}),e[14]=r,e[15]=n,e[16]=c):c=e[16];let m;e[17]!==s.booking_reference?(m=t.jsxs("h3",{className:"font-semibold text-lg",children:["Reference: ",s.booking_reference]}),e[17]=s.booking_reference,e[18]=m):m=e[18];let o;e[19]!==s.created_at?(o=new Date(s.created_at).toLocaleDateString(),e[19]=s.created_at,e[20]=o):o=e[20];let d;e[21]!==o?(d=t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Booked on ",o]}),e[21]=o,e[22]=d):d=e[22];let f;e[23]!==m||e[24]!==d?(f=t.jsxs("div",{children:[m,d]}),e[23]=m,e[24]=d,e[25]=f):f=e[25];let V;e[26]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(ve,{}),e[26]=V):V=e[26];let W;e[27]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("h4",{className:"font-medium mb-2",children:"Customer Information"}),e[27]=W):W=e[27];let X;e[28]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Te,{className:"h-4 w-4"}),e[28]=X):X=e[28];let x;e[29]!==s.customer_name?(x=t.jsxs("div",{className:"flex items-center gap-2",children:[X,t.jsx("span",{children:s.customer_name})]}),e[29]=s.customer_name,e[30]=x):x=e[30];let Y;e[31]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(Ue,{className:"h-4 w-4"}),e[31]=Y):Y=e[31];let h;e[32]!==s.customer_email?(h=t.jsxs("div",{className:"flex items-center gap-2",children:[Y,t.jsx("span",{children:s.customer_email})]}),e[32]=s.customer_email,e[33]=h):h=e[33];let u;e[34]!==s.customer_phone?(u=s.customer_phone&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Re,{className:"h-4 w-4"}),t.jsx("span",{children:s.customer_phone})]}),e[34]=s.customer_phone,e[35]=u):u=e[35];let j;e[36]!==x||e[37]!==h||e[38]!==u?(j=t.jsxs("div",{children:[W,t.jsxs("div",{className:"space-y-2 text-sm",children:[x,h,u]})]}),e[36]=x,e[37]=h,e[38]=u,e[39]=j):j=e[39];let Z;e[40]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("h4",{className:"font-medium mb-2",children:"Tour Information"}),e[40]=Z):Z=e[40];let ee;e[41]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx($e,{className:"h-4 w-4"}),e[41]=ee):ee=e[41];const be=s.tour?.title;let p;e[42]!==be?(p=t.jsxs("div",{className:"flex items-center gap-2",children:[ee,t.jsx("span",{children:be})]}),e[42]=be,e[43]=p):p=e[43];let te;e[44]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(qe,{className:"h-4 w-4"}),e[44]=te):te=e[44];let g;e[45]!==s.tour_date?(g=new Date(s.tour_date).toLocaleDateString(),e[45]=s.tour_date,e[46]=g):g=e[46];let _;e[47]!==g?(_=t.jsxs("div",{className:"flex items-center gap-2",children:[te,t.jsx("span",{children:g})]}),e[47]=g,e[48]=_):_=e[48];let N;e[49]!==s.tour_time?(N=s.tour_time&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Me,{className:"h-4 w-4"}),t.jsx("span",{children:s.tour_time})]}),e[49]=s.tour_time,e[50]=N):N=e[50];let y;e[51]!==p||e[52]!==_||e[53]!==N?(y=t.jsxs("div",{children:[Z,t.jsxs("div",{className:"space-y-2 text-sm",children:[p,_,N]})]}),e[51]=p,e[52]=_,e[53]=N,e[54]=y):y=e[54];let b;e[55]!==j||e[56]!==y?(b=t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[j,y]}),e[55]=j,e[56]=y,e[57]=b):b=e[57];let se,le;e[58]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(ve,{}),le=t.jsx("h4",{className:"font-medium mb-2",children:"Participants"}),e[58]=se,e[59]=le):(se=e[58],le=e[59]);let v;e[60]!==s.participants?(v=s.participants?.map(Ee),e[60]=s.participants,e[61]=v):v=e[61];let S;e[62]!==v?(S=t.jsxs("div",{children:[le,t.jsx("div",{className:"space-y-1",children:v})]}),e[62]=v,e[63]=S):S=e[63];let ae;e[64]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(ve,{}),e[64]=ae):ae=e[64];let ie;e[65]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("span",{className:"font-semibold",children:"Total Amount"}),e[65]=ie):ie=e[65];let w;e[66]!==s.total?(w=s.total?.toLocaleString(),e[66]=s.total,e[67]=w):w=e[67];let k;e[68]!==w?(k=t.jsxs("div",{className:"flex justify-between items-center",children:[ie,t.jsxs("span",{className:"font-bold text-lg",children:["R ",w]})]}),e[68]=w,e[69]=k):k=e[69];let C;e[70]!==f||e[71]!==b||e[72]!==S||e[73]!==k?(C=t.jsxs(G,{className:"space-y-4",children:[f,V,b,se,S,ae,k]}),e[70]=f,e[71]=b,e[72]=S,e[73]=k,e[74]=C):C=e[74];let B;e[75]!==c||e[76]!==C?(B=t.jsxs(E,{children:[c,C]}),e[75]=c,e[76]=C,e[77]=B):B=e[77];let ne;e[78]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(I,{children:t.jsx(F,{children:"Status Management"})}),e[78]=ne):ne=e[78];let re;e[79]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("label",{className:"text-sm font-medium",children:"Booking Status"}),e[79]=re):re=e[79];let ce;e[80]===Symbol.for("react.memo_cache_sentinel")?(ce=["pending","confirmed","cancelled","completed"],e[80]=ce):ce=e[80];let L;e[81]!==s.status||e[82]!==pe?(L=t.jsxs("div",{children:[re,t.jsx("div",{className:"flex gap-2 mt-2",children:ce.map(a=>t.jsx(ke,{size:"sm",variant:s.status===a?"default":"outline",onClick:()=>pe(a),children:a},a))})]}),e[81]=s.status,e[82]=pe,e[83]=L):L=e[83];let me;e[84]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),e[84]=me):me=e[84];let oe;e[85]===Symbol.for("react.memo_cache_sentinel")?(oe=["pending","paid","failed","refunded"],e[85]=oe):oe=e[85];let D;e[86]!==s.payment_status||e[87]!==ge?(D=t.jsxs("div",{children:[me,t.jsx("div",{className:"flex gap-2 mt-2",children:oe.map(a=>t.jsx(ke,{size:"sm",variant:s.payment_status===a?"default":"outline",onClick:()=>ge(a),children:a},a))})]}),e[86]=s.payment_status,e[87]=ge,e[88]=D):D=e[88];let P;e[89]!==L||e[90]!==D?(P=t.jsxs(E,{children:[ne,t.jsxs(G,{className:"space-y-4",children:[L,D]})]}),e[89]=L,e[90]=D,e[91]=P):P=e[91];let A;e[92]!==B||e[93]!==P?(A=t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[B,P]}),e[92]=B,e[93]=P,e[94]=A):A=e[94];let de;e[95]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(I,{children:t.jsx(F,{children:"Timeline"})}),e[95]=de):de=e[95];let fe,xe;e[96]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),xe=t.jsx("p",{className:"text-sm font-medium",children:"Booking Created"}),e[96]=fe,e[97]=xe):(fe=e[96],xe=e[97]);let R;e[98]!==s.created_at?(R=new Date(s.created_at).toLocaleString(),e[98]=s.created_at,e[99]=R):R=e[99];let M;e[100]!==R?(M=t.jsxs("div",{className:"flex items-center gap-3",children:[fe,t.jsxs("div",{children:[xe,t.jsx("p",{className:"text-xs text-muted-foreground",children:R})]})]}),e[100]=R,e[101]=M):M=e[101];let H;e[102]!==s.confirmed_at?(H=s.confirmed_at&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Booking Confirmed"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.confirmed_at).toLocaleString()})]})]}),e[102]=s.confirmed_at,e[103]=H):H=e[103];let T;e[104]!==s.cancelled_at?(T=s.cancelled_at&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Booking Cancelled"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.cancelled_at).toLocaleString()})]})]}),e[104]=s.cancelled_at,e[105]=T):T=e[105];let U;e[106]!==M||e[107]!==H||e[108]!==T?(U=t.jsxs(E,{children:[de,t.jsx(G,{children:t.jsxs("div",{className:"space-y-4",children:[M,H,T]})})]}),e[106]=M,e[107]=H,e[108]=T,e[109]=U):U=e[109];let $;e[110]!==s.payments?($=s.payments&&s.payments.length>0&&t.jsxs(E,{children:[t.jsx(I,{children:t.jsx(F,{children:"Payment History"})}),t.jsx(G,{children:t.jsx("div",{className:"space-y-3",children:s.payments.map(ze)})})]}),e[110]=s.payments,e[111]=$):$=e[111];let he;e[112]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsx(I,{children:t.jsx(F,{children:"Notes"})}),e[112]=he):he=e[112];let ue;e[113]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsxs(E,{children:[he,t.jsx(G,{children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"No additional notes available for this booking."})})]}),e[113]=ue):ue=e[113];let q;e[114]!==U||e[115]!==$?(q=t.jsxs("div",{className:"space-y-6",children:[U,$,ue]}),e[114]=U,e[115]=$,e[116]=q):q=e[116];let z;e[117]!==A||e[118]!==q?(z=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[A,q]}),e[117]=A,e[118]=q,e[119]=z):z=e[119];let je;return e[120]!==i||e[121]!==z?(je=t.jsxs(Ae,{children:[i,O,z]}),e[120]=i,e[121]=z,e[122]=je):je=e[122],je}function ze(l,e){return t.jsxs("div",{className:"flex justify-between items-center text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.payment_method}),t.jsx("p",{className:"text-xs text-muted-foreground",children:l.paid_at?new Date(l.paid_at).toLocaleDateString():"Pending"})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-medium",children:["R ",l.amount?.toLocaleString()]}),t.jsx(Se,{variant:"outline",className:"text-xs",children:l.status})]})]},e)}function Ee(l,e){return t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:[l.quantity," x ",l.tier]}),t.jsxs("span",{children:["R ",(l.price*l.quantity).toLocaleString()]})]},e)}function Ie(l){switch(l){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}}function Fe(l){switch(l){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}}export{ot as default};
