import{c as ve,u as Ne,j as s,H as we,L as Se}from"./app-C1SY9MDb.js";import{B as Ce}from"./button-Cay5-c5j.js";import{C as me,b as de,c as ue,a as he}from"./card-CR1uK1J-.js";import{C as ke}from"./checkbox-B9WyVMDd.js";import{I as z}from"./input-JYc9kwZj.js";import{L as o}from"./label-CSsagSVn.js";import{S as qe}from"./separator-CORR1ccg.js";import{T as Le}from"./textarea-BofFPz95.js";import{P as Fe}from"./public-layout-D57EhYKk.js";import{c as Pe}from"./createLucideIcon-CXndT-TN.js";import{S as Te}from"./shield-DPW_2nwU.js";import{C as Ie}from"./check-D-d_y1YX.js";import{C as Re}from"./calendar-BrzHxjoH.js";/* empty css            */import"./index-YK6wEiK_.js";import"./index-COsoz50Y.js";import"./index-DfOP-8f3.js";import"./dropdown-menu-pbi0L3hx.js";import"./index-hklGxL04.js";import"./Combination-BW2rxmPS.js";import"./index-BKpSwivT.js";import"./sheet-BO4QNby-.js";import"./x-D3TvH5Gs.js";import"./user-Co9pn7WA.js";import"./phone-Cb2s3M8c.js";import"./mail-DAsOWumf.js";const De=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ae=Pe("Lock",De);function us(l){const e=ve.c(111),{items:pe,subtotal:n,user:i}=l,fe=i?.name||"",xe=i?.email||"",_e=i?.phone||"",je=i?.country||"South Africa";let O;e[0]!==fe||e[1]!==xe||e[2]!==_e||e[3]!==je?(O={customer_name:fe,customer_email:xe,customer_phone:_e,customer_country:je,special_requirements:"",create_account:!1,password:"",password_confirmation:""},e[0]=fe,e[1]=xe,e[2]=_e,e[3]=je,e[4]=O):O=e[4];const{data:t,setData:r,post:ye,processing:Y,errors:c}=Ne(O);let $;e[5]!==ye?($=a=>{a.preventDefault(),ye("/checkout/process")},e[5]=ye,e[6]=$):$=e[6];const ge=$;let M;e[7]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(we,{title:"Checkout - Ubuntu Sunshine Tours"}),e[7]=M):M=e[7];let U;e[8]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx("h1",{className:"mb-8 text-3xl font-bold",children:"Checkout"}),e[8]=U):U=e[8];let V;e[9]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(de,{children:s.jsx(ue,{children:"Your Details"})}),e[9]=V):V=e[9];let G;e[10]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(o,{htmlFor:"customer_name",children:"Full Name *"}),e[10]=G):G=e[10];let m;e[11]!==r?(m=a=>r("customer_name",a.target.value),e[11]=r,e[12]=m):m=e[12];let d;e[13]!==t.customer_name||e[14]!==m?(d=s.jsx(z,{id:"customer_name",value:t.customer_name,onChange:m,required:!0}),e[13]=t.customer_name,e[14]=m,e[15]=d):d=e[15];let u;e[16]!==c.customer_name?(u=c.customer_name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.customer_name}),e[16]=c.customer_name,e[17]=u):u=e[17];let h;e[18]!==d||e[19]!==u?(h=s.jsxs("div",{children:[G,d,u]}),e[18]=d,e[19]=u,e[20]=h):h=e[20];let J;e[21]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(o,{htmlFor:"customer_email",children:"Email Address *"}),e[21]=J):J=e[21];let p;e[22]!==r?(p=a=>r("customer_email",a.target.value),e[22]=r,e[23]=p):p=e[23];let f;e[24]!==t.customer_email||e[25]!==p?(f=s.jsx(z,{id:"customer_email",type:"email",value:t.customer_email,onChange:p,required:!0}),e[24]=t.customer_email,e[25]=p,e[26]=f):f=e[26];let x;e[27]!==c.customer_email?(x=c.customer_email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.customer_email}),e[27]=c.customer_email,e[28]=x):x=e[28];let _;e[29]!==f||e[30]!==x?(_=s.jsxs("div",{children:[J,f,x]}),e[29]=f,e[30]=x,e[31]=_):_=e[31];let j;e[32]!==h||e[33]!==_?(j=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h,_]}),e[32]=h,e[33]=_,e[34]=j):j=e[34];let K;e[35]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(o,{htmlFor:"customer_phone",children:"Phone Number"}),e[35]=K):K=e[35];let y;e[36]!==r?(y=a=>r("customer_phone",a.target.value),e[36]=r,e[37]=y):y=e[37];let g;e[38]!==t.customer_phone||e[39]!==y?(g=s.jsxs("div",{children:[K,s.jsx(z,{id:"customer_phone",type:"tel",value:t.customer_phone,onChange:y})]}),e[38]=t.customer_phone,e[39]=y,e[40]=g):g=e[40];let Q;e[41]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(o,{htmlFor:"customer_country",children:"Country"}),e[41]=Q):Q=e[41];let b;e[42]!==r?(b=a=>r("customer_country",a.target.value),e[42]=r,e[43]=b):b=e[43];let v;e[44]!==t.customer_country||e[45]!==b?(v=s.jsxs("div",{children:[Q,s.jsx(z,{id:"customer_country",value:t.customer_country,onChange:b})]}),e[44]=t.customer_country,e[45]=b,e[46]=v):v=e[46];let N;e[47]!==g||e[48]!==v?(N=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g,v]}),e[47]=g,e[48]=v,e[49]=N):N=e[49];let W;e[50]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(o,{htmlFor:"special_requirements",children:"Special Requirements"}),e[50]=W):W=e[50];let w;e[51]!==r?(w=a=>r("special_requirements",a.target.value),e[51]=r,e[52]=w):w=e[52];let S;e[53]!==t.special_requirements||e[54]!==w?(S=s.jsxs("div",{children:[W,s.jsx(Le,{id:"special_requirements",value:t.special_requirements,onChange:w,placeholder:"Any dietary requirements, accessibility needs, or other special requests...",rows:3})]}),e[53]=t.special_requirements,e[54]=w,e[55]=S):S=e[55];let C;e[56]!==j||e[57]!==N||e[58]!==S?(C=s.jsxs(me,{children:[V,s.jsxs(he,{className:"space-y-4",children:[j,N,S]})]}),e[56]=j,e[57]=N,e[58]=S,e[59]=C):C=e[59];let k;e[60]!==t.create_account||e[61]!==t.password||e[62]!==t.password_confirmation||e[63]!==c.password||e[64]!==r||e[65]!==i?(k=!i&&s.jsxs(me,{children:[s.jsx(de,{children:s.jsx(ue,{children:"Create Account (Optional)"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[s.jsx(ke,{checked:t.create_account,onCheckedChange:a=>r("create_account",a)}),s.jsx("span",{children:"Create an account to easily manage your bookings"})]}),t.create_account&&s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx(o,{htmlFor:"password",children:"Password"}),s.jsx(z,{id:"password",type:"password",value:t.password,onChange:a=>r("password",a.target.value),required:t.create_account}),c.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"password_confirmation",children:"Confirm Password"}),s.jsx(z,{id:"password_confirmation",type:"password",value:t.password_confirmation,onChange:a=>r("password_confirmation",a.target.value),required:t.create_account})]})]})]})]}),e[60]=t.create_account,e[61]=t.password,e[62]=t.password_confirmation,e[63]=c.password,e[64]=r,e[65]=i,e[66]=k):k=e[66];let X;e[67]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(de,{children:s.jsx(ue,{children:"Booking Summary"})}),e[67]=X):X=e[67];let q;e[68]!==pe?(q=pe.map(Ee),e[68]=pe,e[69]=q):q=e[69];let L;e[70]!==q?(L=s.jsxs(me,{children:[X,s.jsx(he,{className:"space-y-4",children:q})]}),e[70]=q,e[71]=L):L=e[71];let F;e[72]!==C||e[73]!==k||e[74]!==L?(F=s.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[C,k,L]}),e[72]=C,e[73]=k,e[74]=L,e[75]=F):F=e[75];let Z;e[76]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(de,{children:s.jsx(ue,{children:"Order Total"})}),e[76]=Z):Z=e[76];let ee;e[77]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx("span",{children:"Subtotal"}),e[77]=ee):ee=e[77];let P;e[78]!==n?(P=n.toLocaleString(),e[78]=n,e[79]=P):P=e[79];let T;e[80]!==P?(T=s.jsxs("div",{className:"flex justify-between",children:[ee,s.jsxs("span",{children:["R ",P]})]}),e[80]=P,e[81]=T):T=e[81];let se;e[82]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Taxes & Fees"}),s.jsx("span",{children:"Included"})]}),e[82]=se):se=e[82];let I;e[83]!==T?(I=s.jsxs("div",{className:"space-y-2",children:[T,se]}),e[83]=T,e[84]=I):I=e[84];let te;e[85]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(qe,{}),e[85]=te):te=e[85];let re;e[86]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx("span",{children:"Total"}),e[86]=re):re=e[86];let R;e[87]!==n?(R=n.toLocaleString(),e[87]=n,e[88]=R):R=e[88];let D;e[89]!==R?(D=s.jsxs("div",{className:"flex justify-between text-xl font-bold",children:[re,s.jsxs("span",{children:["R ",R]})]}),e[89]=R,e[90]=D):D=e[90];const be=Y?"Processing...":"Pay with PayFast";let A;e[91]!==Y||e[92]!==be?(A=s.jsx(Ce,{type:"submit",className:"w-full",size:"lg",disabled:Y,children:be}),e[91]=Y,e[92]=be,e[93]=A):A=e[93];let ae;e[94]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Ae,{className:"h-4 w-4"}),"Secure SSL encrypted payment"]}),e[94]=ae):ae=e[94];let le;e[95]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Te,{className:"h-4 w-4"}),"Your data is protected"]}),e[95]=le):le=e[95];let ce;e[96]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[ae,le,s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Ie,{className:"h-4 w-4"}),"Instant booking confirmation"]})]}),e[96]=ce):ce=e[96];let ie;e[97]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx("div",{className:"text-center",children:s.jsx("img",{src:"/images/payfast-logo.png",alt:"PayFast",className:"mx-auto h-8",onError:Be})}),e[97]=ie):ie=e[97];let B;e[98]!==I||e[99]!==D||e[100]!==A?(B=s.jsx("div",{children:s.jsxs(me,{className:"sticky top-24",children:[Z,s.jsxs(he,{className:"space-y-4",children:[I,te,D,A,ce,ie]})]})}),e[98]=I,e[99]=D,e[100]=A,e[101]=B):B=e[101];let E;e[102]!==F||e[103]!==B?(E=s.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[F,B]}),e[102]=F,e[103]=B,e[104]=E):E=e[104];let H;e[105]!==ge||e[106]!==E?(H=s.jsx("form",{onSubmit:ge,children:E}),e[105]=ge,e[106]=E,e[107]=H):H=e[107];let oe;e[108]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx("div",{className:"mt-8",children:s.jsx(Se,{href:"/cart",className:"text-primary hover:underline",children:"‚Üê Back to cart"})}),e[108]=oe):oe=e[108];let ne;return e[109]!==H?(ne=s.jsxs(Fe,{children:[M,s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[U,H,oe]})]}),e[109]=H,e[110]=ne):ne=e[110],ne}function Be(l){l.currentTarget.style.display="none"}function Ee(l){const e=l.participants.reduce(He,0);return s.jsxs("div",{className:"flex gap-4 rounded-lg border p-4",children:[s.jsx("div",{className:"h-20 w-20 shrink-0 overflow-hidden rounded",children:s.jsx("img",{src:l.tour?.featured_image?`/storage/${l.tour.featured_image}`:"/images/safari.jpg",alt:l.tour?.title,className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:l.tour?.title}),s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-3 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Re,{className:"h-4 w-4"}),new Date(l.tour_date).toLocaleDateString()]}),s.jsxs("span",{children:[e," participants"]})]}),s.jsxs("p",{className:"mt-1 text-sm font-medium",children:["R ",l.subtotal.toLocaleString()]})]})]},l.id)}function He(l,e){return l+e.quantity}export{us as default};
