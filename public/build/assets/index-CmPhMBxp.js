import{c as q,r as z,j as s,a as D,H as O,L as $}from"./app-CCdLyeNd.js";import{B as G}from"./badge-FP0Eo4Bb.js";import{B as M}from"./button-C3mWsqwf.js";import{C as P,a as V}from"./card-Cn4I26kp.js";import{D as J,a as K,b as Q,c as k}from"./dropdown-menu-CWP62HWu.js";import{I as U}from"./input-Md0onarX.js";import{S as W,a as X,b as Y,c as B,d as Z}from"./select-D9_zhw-l.js";import{A as ee}from"./admin-layout-moIvD3jO.js";import{P as se}from"./plus-CBuGa7vY.js";import{S as te}from"./search-CThXLrVm.js";import{E as le}from"./ellipsis-Br0Ytp9r.js";import{E as ae}from"./eye-qZDlQt3y.js";import{S as re}from"./square-pen-BP-dPoAy.js";import{T as ie}from"./trash-2-CXnh2pRB.js";/* empty css            */import"./index-BGQA3rTR.js";import"./index-CP66uTd0.js";import"./Combination-NQMwYvno.js";import"./index-C985WPGu.js";import"./index-BTLUeuTZ.js";import"./index-C3YVOeTh.js";import"./chevron-down-D63RCh7y.js";import"./createLucideIcon-DP6t-9k4.js";import"./check-BCfg21U8.js";import"./file-text-Cieu71p6.js";import"./calendar-CWr95TKm.js";import"./users-d3Oz5GKm.js";import"./map-pin-D_i16_U-.js";import"./message-square-BdNL5HVB.js";import"./log-out-BGL9Vbt0.js";function Fe(r){const e=q.c(38),{categories:i,filters:a}=r,[c,F]=z.useState(a?.search||"");let u;e[0]!==a||e[1]!==c?(u=l=>{l.preventDefault(),D.get("/admin/categories",{...a,search:c},{preserveState:!0})},e[0]=a,e[1]=c,e[2]=u):u=e[2];const E=u;let j;e[3]!==a?(j=(l,t)=>{const L={...a,[l]:t};t||delete L[l],D.get("/admin/categories",L,{preserveState:!0})},e[3]=a,e[4]=j):j=e[4];const I=j,H=ne,R=ce;let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(O,{title:"Categories - Admin"}),e[5]=N):N=e[5];let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage tour categories"})]}),e[6]=g):g=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[g,s.jsx($,{href:"/admin/categories/create",children:s.jsxs(M,{children:[s.jsx(se,{className:"mr-2 h-4 w-4"}),"Add Category"]})})]}),e[7]=v):v=e[7];let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(te,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[8]=S):S=e[8];let b;e[9]===Symbol.for("react.memo_cache_sentinel")?(b=l=>F(l.target.value),e[9]=b):b=e[9];let n;e[10]!==c?(n=s.jsxs("div",{className:"relative flex-1",children:[S,s.jsx(U,{placeholder:"Search categories...",className:"pl-9",value:c,onChange:b})]}),e[10]=c,e[11]=n):n=e[11];let w;e[12]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(M,{type:"submit",children:"Search"}),e[12]=w):w=e[12];let m;e[13]!==E||e[14]!==n?(m=s.jsxs("form",{onSubmit:E,className:"flex flex-1 gap-2",children:[n,w]}),e[13]=E,e[14]=n,e[15]=m):m=e[15];const T=a?.status||"all";let o;e[16]!==I?(o=l=>I("status",l==="all"?null:l),e[16]=I,e[17]=o):o=e[17];let y;e[18]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(W,{className:"w-36",children:s.jsx(X,{placeholder:"Status"})}),e[18]=y):y=e[18];let C;e[19]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs(Y,{children:[s.jsx(B,{value:"all",children:"All Status"}),s.jsx(B,{value:"active",children:"Active"}),s.jsx(B,{value:"inactive",children:"Inactive"})]}),e[19]=C):C=e[19];let d;e[20]!==T||e[21]!==o?(d=s.jsxs(Z,{value:T,onValueChange:o,children:[y,C]}),e[20]=T,e[21]=o,e[22]=d):d=e[22];let x;e[23]!==m||e[24]!==d?(x=s.jsx(P,{className:"mb-6",children:s.jsx(V,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[m,d]})})}),e[23]=m,e[24]=d,e[25]=x):x=e[25];let _;e[26]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("thead",{className:"border-b bg-muted",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Category"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Description"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Icon"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Tours"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Order"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Actions"})]})}),e[26]=_):_=e[26];let h;if(e[27]!==i){let l;e[29]===Symbol.for("react.memo_cache_sentinel")?(l=t=>s.jsxs("tr",{className:"hover:bg-muted/50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.image&&s.jsx("div",{className:"h-10 w-10 shrink-0 overflow-hidden rounded",children:s.jsx("img",{src:`/storage/${t.image}`,alt:t.name,className:"h-full w-full object-cover"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",t.slug]})]})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("p",{className:"text-sm text-muted-foreground max-w-xs truncate",children:t.description||"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-2xl",children:t.icon||"ðŸ“"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:t.tours_count||0}),t.active_tours_count!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.active_tours_count," active"]})]})}),s.jsx("td",{className:"px-4 py-3",children:t.sort_order}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(G,{variant:t.is_active?"default":"secondary",className:"cursor-pointer",onClick:()=>H(t),children:t.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs(J,{children:[s.jsx(K,{asChild:!0,children:s.jsx(M,{variant:"ghost",size:"icon",children:s.jsx(le,{className:"h-4 w-4"})})}),s.jsxs(Q,{align:"end",children:[s.jsx(k,{asChild:!0,children:s.jsxs($,{href:`/tours?category=${t.id}`,target:"_blank",children:[s.jsx(ae,{className:"mr-2 h-4 w-4"}),"View Tours"]})}),s.jsx(k,{asChild:!0,children:s.jsxs($,{href:`/admin/categories/${t.id}/edit`,children:[s.jsx(re,{className:"mr-2 h-4 w-4"}),"Edit"]})}),s.jsxs(k,{className:"text-red-600",onClick:()=>R(t),children:[s.jsx(ie,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},t.id),e[29]=l):l=e[29],h=i.map(l),e[27]=i,e[28]=h}else h=e[28];let p;e[30]!==i.length?(p=i.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-muted-foreground",children:"No categories found"})}),e[30]=i.length,e[31]=p):p=e[31];let f;e[32]!==h||e[33]!==p?(f=s.jsx(P,{children:s.jsx(V,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[_,s.jsxs("tbody",{className:"divide-y divide-border",children:[h,p]})]})})})}),e[32]=h,e[33]=p,e[34]=f):f=e[34];let A;return e[35]!==x||e[36]!==f?(A=s.jsxs(ee,{children:[N,v,x,f]}),e[35]=x,e[36]=f,e[37]=A):A=e[37],A}function ce(r){confirm(`Are you sure you want to delete "${r.name}"?`)&&D.delete(`/admin/categories/${r.id}`)}function ne(r){D.post(`/admin/categories/${r.id}/toggle-status`)}export{Fe as default};
