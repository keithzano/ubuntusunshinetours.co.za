import{c as ee,r as te,j as t,a as y,H as se,L as V}from"./app-C1SY9MDb.js";import{B as z}from"./badge-DZzXRnRE.js";import{B as H}from"./button-Cay5-c5j.js";import{C as G,a as J}from"./card-CR1uK1J-.js";import{D as le,a as ae,b as re,c as k}from"./dropdown-menu-pbi0L3hx.js";import{I as ie}from"./input-JYc9kwZj.js";import{S as K,a as O,b as Q,c as v,d as U}from"./select-CAhNXgoC.js";import{A as ce}from"./admin-layout-DjgJLR45.js";import{P as ne}from"./plus-Bl13SyrR.js";import{S as me}from"./search-DE-sQS7q.js";import{M as oe}from"./map-pin-duO8z-oX.js";import{E as de}from"./ellipsis-DrGQukjC.js";import{E as xe}from"./eye-BB0t7OmU.js";import{S as he}from"./square-pen-BdfAhEVt.js";import{T as fe}from"./trash-2-Draxw3a-.js";/* empty css            */import"./index-YK6wEiK_.js";import"./index-hklGxL04.js";import"./Combination-BW2rxmPS.js";import"./index-BKpSwivT.js";import"./index-COsoz50Y.js";import"./index-kDSHONJO.js";import"./chevron-down-CVelUqFq.js";import"./createLucideIcon-CXndT-TN.js";import"./check-D-d_y1YX.js";import"./file-text-3EQardMW.js";import"./calendar-BrzHxjoH.js";import"./users-DSj1NEwx.js";import"./message-square-DVWP-Fcb.js";import"./log-out-C6Gxvim2.js";function Qe(r){const e=ee.c(48),{locations:i,filters:a}=r,[c,W]=te.useState(a?.search||"");let S;e[0]!==a||e[1]!==c?(S=l=>{l.preventDefault(),y.get("/admin/locations",{...a,search:c},{preserveState:!0})},e[0]=a,e[1]=c,e[2]=S):S=e[2];const B=S;let b;e[3]!==a?(b=(l,s)=>{const q={...a,[l]:s};s||delete q[l],y.get("/admin/locations",q,{preserveState:!0})},e[3]=a,e[4]=b):b=e[4];const n=b,X=je,Y=pe,Z=ue;let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(se,{title:"Locations - Admin"}),e[5]=w):w=e[5];let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Locations"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage tour locations"})]}),e[6]=_):_=e[6];let C;e[7]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[_,t.jsx(V,{href:"/admin/locations/create",children:t.jsxs(H,{children:[t.jsx(ne,{className:"mr-2 h-4 w-4"}),"Add Location"]})})]}),e[7]=C):C=e[7];let A;e[8]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(me,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[8]=A):A=e[8];let F;e[9]===Symbol.for("react.memo_cache_sentinel")?(F=l=>W(l.target.value),e[9]=F):F=e[9];let m;e[10]!==c?(m=t.jsxs("div",{className:"relative flex-1",children:[A,t.jsx(ie,{placeholder:"Search locations...",className:"pl-9",value:c,onChange:F})]}),e[10]=c,e[11]=m):m=e[11];let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(H,{type:"submit",children:"Search"}),e[12]=D):D=e[12];let o;e[13]!==B||e[14]!==m?(o=t.jsxs("form",{onSubmit:B,className:"flex flex-1 gap-2",children:[m,D]}),e[13]=B,e[14]=m,e[15]=o):o=e[15];const P=a?.status||"all";let d;e[16]!==n?(d=l=>n("status",l==="all"?null:l),e[16]=n,e[17]=d):d=e[17];let E;e[18]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(K,{className:"w-36",children:t.jsx(O,{placeholder:"Status"})}),e[18]=E):E=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs(Q,{children:[t.jsx(v,{value:"all",children:"All Status"}),t.jsx(v,{value:"active",children:"Active"}),t.jsx(v,{value:"inactive",children:"Inactive"})]}),e[19]=L):L=e[19];let x;e[20]!==P||e[21]!==d?(x=t.jsxs(U,{value:P,onValueChange:d,children:[E,L]}),e[20]=P,e[21]=d,e[22]=x):x=e[22];const R=a?.featured||"all";let h;e[23]!==n?(h=l=>n("featured",l==="all"?null:l),e[23]=n,e[24]=h):h=e[24];let M;e[25]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(K,{className:"w-36",children:t.jsx(O,{placeholder:"Featured"})}),e[25]=M):M=e[25];let T;e[26]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs(Q,{children:[t.jsx(v,{value:"all",children:"All"}),t.jsx(v,{value:"featured",children:"Featured"}),t.jsx(v,{value:"not-featured",children:"Not Featured"})]}),e[26]=T):T=e[26];let f;e[27]!==R||e[28]!==h?(f=t.jsxs(U,{value:R,onValueChange:h,children:[M,T]}),e[27]=R,e[28]=h,e[29]=f):f=e[29];let u;e[30]!==x||e[31]!==f?(u=t.jsxs("div",{className:"flex gap-2",children:[x,f]}),e[30]=x,e[31]=f,e[32]=u):u=e[32];let p;e[33]!==o||e[34]!==u?(p=t.jsx(G,{className:"mb-6",children:t.jsx(J,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[o,u]})})}),e[33]=o,e[34]=u,e[35]=p):p=e[35];let I;e[36]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("thead",{className:"border-b bg-muted",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Location"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Region"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Country"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Tours"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Actions"})]})}),e[36]=I):I=e[36];let j;if(e[37]!==i){let l;e[39]===Symbol.for("react.memo_cache_sentinel")?(l=s=>t.jsxs("tr",{className:"hover:bg-muted/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/80 dark:bg-primary/60 text-primary-foreground",children:t.jsx(oe,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.name}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",s.slug]})]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:s.region}),s.city&&t.jsx("p",{className:"text-sm text-muted-foreground",children:s.city})]})}),t.jsx("td",{className:"px-4 py-3",children:s.country}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium",children:s.tours_count||0}),s.active_tours_count!==void 0&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.active_tours_count," active"]})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(z,{variant:s.is_active?"default":"secondary",className:"cursor-pointer",onClick:()=>X(s),children:s.is_active?"Active":"Inactive"}),s.is_featured&&t.jsx(z,{variant:"outline",children:"Featured"})]})}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsxs(le,{children:[t.jsx(ae,{asChild:!0,children:t.jsx(H,{variant:"ghost",size:"icon",children:t.jsx(de,{className:"h-4 w-4"})})}),t.jsxs(re,{align:"end",children:[t.jsx(k,{asChild:!0,children:t.jsxs(V,{href:`/tours?location=${s.id}`,target:"_blank",children:[t.jsx(xe,{className:"mr-2 h-4 w-4"}),"View Tours"]})}),t.jsx(k,{asChild:!0,children:t.jsxs(V,{href:`/admin/locations/${s.id}/edit`,children:[t.jsx(he,{className:"mr-2 h-4 w-4"}),"Edit"]})}),t.jsx(k,{onClick:()=>Y(s),children:s.is_featured?"Remove Featured":"Make Featured"}),t.jsxs(k,{className:"text-red-600",onClick:()=>Z(s),children:[t.jsx(fe,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},s.id),e[39]=l):l=e[39],j=i.map(l),e[37]=i,e[38]=j}else j=e[38];let N;e[40]!==i.length?(N=i.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-muted-foreground",children:"No locations found"})}),e[40]=i.length,e[41]=N):N=e[41];let g;e[42]!==j||e[43]!==N?(g=t.jsx(G,{children:t.jsx(J,{className:"p-0",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[I,t.jsxs("tbody",{className:"divide-y divide-border",children:[j,N]})]})})})}),e[42]=j,e[43]=N,e[44]=g):g=e[44];let $;return e[45]!==p||e[46]!==g?($=t.jsxs(ce,{children:[w,C,p,g]}),e[45]=p,e[46]=g,e[47]=$):$=e[47],$}function ue(r){confirm(`Are you sure you want to delete "${r.name}"?`)&&y.delete(`/admin/locations/${r.id}`)}function pe(r){y.post(`/admin/locations/${r.id}/toggle-featured`)}function je(r){y.post(`/admin/locations/${r.id}/toggle-status`)}export{Qe as default};
