import{c as ae,r as re,j as t,a as b,H as ie,L as J}from"./app-VOhr-F7S.js";import{B as O}from"./badge-D99h1w8_.js";import{B as V}from"./button-DB1vS6hQ.js";import{C as Q,a as U}from"./card-CauYnrHC.js";import{D as ne,a as ce,b as oe,c as R}from"./dropdown-menu-Cfa29Lzn.js";import{I as me}from"./input-oVEZiV61.js";import{S as W,a as X,c as _,b as Y,d as Z}from"./select-COEOmFLW.js";import{A as de}from"./admin-layout-B7yUPSIF.js";import{P as xe}from"./plus-DoTuonJV.js";import{S as he}from"./search-0ckBonDh.js";import{E as fe}from"./ellipsis-C3vCsJqW.js";import{E as pe}from"./eye-Ce28Agfp.js";import{S as ue}from"./square-pen-DI5_43Py.js";import{T as je}from"./trash-2-CTIr9SmH.js";/* empty css            */import"./index-DOdFiqwK.js";import"./index-BidFX4T2.js";import"./Combination-BukkXTJ3.js";import"./index-ChuDnXnV.js";import"./index-Dpsyf0H0.js";import"./index-IG1It-qB.js";import"./chevron-down-DFooHm73.js";import"./createLucideIcon-XyfHAKeK.js";import"./check-ByJ_Hhce.js";import"./file-text-CBa2cexr.js";import"./calendar-CWX8jUM0.js";import"./users-C4QLUtJp.js";import"./map-pin-DP9sGndM.js";import"./message-square-Bg0Q6Utl.js";import"./log-out-DMF9_bzD.js";function Ze(a){const e=ae.c(60),{tours:s,categories:H,filters:i}=a,[n,ee]=re.useState(i.search||"");let w;e[0]!==i||e[1]!==n?(w=r=>{r.preventDefault(),b.get("/admin/tours",{...i,search:n},{preserveState:!0})},e[0]=i,e[1]=n,e[2]=w):w=e[2];const z=w;let C;e[3]!==i?(C=(r,l)=>{const K={...i,[r]:l};l||delete K[r],b.get("/admin/tours",K,{preserveState:!0})},e[3]=i,e[4]=C):C=e[4];const c=C,te=Se,se=ve,le=ye;let A;e[5]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(ie,{title:"Tours - Admin"}),e[5]=A):A=e[5];let T;e[6]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Tours"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your tour listings"})]}),e[6]=T):T=e[6];let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[T,t.jsx(J,{href:"/admin/tours/create",children:t.jsxs(V,{children:[t.jsx(xe,{className:"mr-2 h-4 w-4"}),"Add Tour"]})})]}),e[7]=k):k=e[7];let D;e[8]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(he,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[8]=D):D=e[8];let E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=r=>ee(r.target.value),e[9]=E):E=e[9];let o;e[10]!==n?(o=t.jsxs("div",{className:"relative flex-1",children:[D,t.jsx(me,{placeholder:"Search tours...",className:"pl-9",value:n,onChange:E})]}),e[10]=n,e[11]=o):o=e[11];let I;e[12]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(V,{type:"submit",children:"Search"}),e[12]=I):I=e[12];let m;e[13]!==z||e[14]!==o?(m=t.jsxs("form",{onSubmit:z,className:"flex flex-1 gap-2",children:[o,I]}),e[13]=z,e[14]=o,e[15]=m):m=e[15];const q=i.category||"all";let d;e[16]!==c?(d=r=>c("category",r==="all"?null:r),e[16]=c,e[17]=d):d=e[17];let $;e[18]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(W,{className:"w-48",children:t.jsx(X,{placeholder:"All Categories"})}),e[18]=$):$=e[18];let M;e[19]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(_,{value:"all",children:"All Categories"}),e[19]=M):M=e[19];let x;e[20]!==H?(x=H.map(Ne),e[20]=H,e[21]=x):x=e[21];let h;e[22]!==x?(h=t.jsxs(Y,{children:[M,x]}),e[22]=x,e[23]=h):h=e[23];let f;e[24]!==q||e[25]!==d||e[26]!==h?(f=t.jsxs(Z,{value:q,onValueChange:d,children:[$,h]}),e[24]=q,e[25]=d,e[26]=h,e[27]=f):f=e[27];const G=i.status||"all";let p;e[28]!==c?(p=r=>c("status",r==="all"?null:r),e[28]=c,e[29]=p):p=e[29];let F;e[30]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(W,{className:"w-36",children:t.jsx(X,{placeholder:"All Status"})}),e[30]=F):F=e[30];let B;e[31]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs(Y,{children:[t.jsx(_,{value:"all",children:"All Status"}),t.jsx(_,{value:"active",children:"Active"}),t.jsx(_,{value:"inactive",children:"Inactive"})]}),e[31]=B):B=e[31];let u;e[32]!==G||e[33]!==p?(u=t.jsxs(Z,{value:G,onValueChange:p,children:[F,B]}),e[32]=G,e[33]=p,e[34]=u):u=e[34];let j;e[35]!==m||e[36]!==f||e[37]!==u?(j=t.jsx(Q,{className:"mb-6",children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[m,f,u]})})}),e[35]=m,e[36]=f,e[37]=u,e[38]=j):j=e[38];let L;e[39]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("thead",{className:"border-b bg-muted",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Tour"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Category"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Price"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Bookings"}),t.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Actions"})]})}),e[39]=L):L=e[39];let g;if(e[40]!==s.data){let r;e[42]===Symbol.for("react.memo_cache_sentinel")?(r=l=>t.jsxs("tr",{className:"hover:bg-muted/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"h-12 w-12 shrink-0 overflow-hidden rounded",children:t.jsx("img",{src:l.featured_image?`/storage/${l.featured_image}`:"/images/placeholder-tour.jpg",alt:l.title,className:"h-full w-full object-cover"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:l.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:l.location?.name})]})]})}),t.jsx("td",{className:"px-4 py-3 text-sm",children:l.category?.name}),t.jsxs("td",{className:"px-4 py-3 text-sm font-medium",children:["R ",l.price.toLocaleString()]}),t.jsx("td",{className:"px-4 py-3 text-sm",children:l.bookings_count}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(O,{variant:l.is_active?"default":"secondary",className:"cursor-pointer",onClick:()=>se(l),children:l.is_active?"Active":"Inactive"}),l.is_featured&&t.jsx(O,{variant:"outline",children:"Featured"})]})}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsxs(ne,{children:[t.jsx(ce,{asChild:!0,children:t.jsx(V,{variant:"ghost",size:"icon",children:t.jsx(fe,{className:"h-4 w-4"})})}),t.jsxs(oe,{align:"end",children:[t.jsx(R,{asChild:!0,children:t.jsxs(J,{href:`/tours/${l.slug}`,target:"_blank",children:[t.jsx(pe,{className:"mr-2 h-4 w-4"}),"View"]})}),t.jsx(R,{asChild:!0,children:t.jsxs(J,{href:`/admin/tours/${l.id}/edit`,children:[t.jsx(ue,{className:"mr-2 h-4 w-4"}),"Edit"]})}),t.jsx(R,{onClick:()=>le(l),children:l.is_featured?"Remove Featured":"Make Featured"}),t.jsxs(R,{className:"text-red-600",onClick:()=>te(l),children:[t.jsx(je,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},l.id),e[42]=r):r=e[42],g=s.data.map(r),e[40]=s.data,e[41]=g}else g=e[41];let N;e[43]!==s.data.length?(N=s.data.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-muted-foreground",children:"No tours found"})}),e[43]=s.data.length,e[44]=N):N=e[44];let y;e[45]!==g||e[46]!==N?(y=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[L,t.jsxs("tbody",{className:"divide-y divide-border",children:[g,N]})]})}),e[45]=g,e[46]=N,e[47]=y):y=e[47];let v;e[48]!==s.from||e[49]!==s.last_page||e[50]!==s.links||e[51]!==s.to||e[52]!==s.total?(v=s.last_page>1&&t.jsxs("div",{className:"flex items-center justify-between border-t border-border px-4 py-3",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.from," to ",s.to," of ",s.total," tours"]}),t.jsx("div",{className:"flex gap-2",children:s.links.map(ge)})]}),e[48]=s.from,e[49]=s.last_page,e[50]=s.links,e[51]=s.to,e[52]=s.total,e[53]=v):v=e[53];let S;e[54]!==y||e[55]!==v?(S=t.jsx(Q,{children:t.jsxs(U,{className:"p-0",children:[y,v]})}),e[54]=y,e[55]=v,e[56]=S):S=e[56];let P;return e[57]!==j||e[58]!==S?(P=t.jsxs(de,{children:[A,k,j,S]}),e[57]=j,e[58]=S,e[59]=P):P=e[59],P}function ge(a,e){return t.jsx(V,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&b.get(a.url),dangerouslySetInnerHTML:{__html:a.label}},e)}function Ne(a){return t.jsx(_,{value:String(a.id),children:a.name},a.id)}function ye(a){b.post(`/admin/tours/${a.id}/toggle-featured`)}function ve(a){b.post(`/admin/tours/${a.id}/toggle-status`)}function Se(a){confirm(`Are you sure you want to delete "${a.title}"?`)&&b.delete(`/admin/tours/${a.id}`)}export{Ze as default};
